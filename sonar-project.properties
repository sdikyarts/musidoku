# SonarQube Project Configuration

sonar.projectKey=musidoku
sonar.projectName=Musidoku Artist Database
sonar.projectVersion=1.0

# Source code location
sonar.sources=app,lib,db,components
sonar.tests=app,lib,scripts

# Exclude patterns
sonar.exclusions=**/node_modules/**,**/*.test.ts,**/*.test.tsx,**/vitest.setup.ts,**/vitest.config.ts

# Test file patterns
sonar.test.inclusions=**/*.test.ts,**/*.test.tsx

# Code duplication exclusions
# Test files naturally have similar structure - this is expected and acceptable
sonar.cpd.exclusions=**/*.test.ts,**/*.test.tsx,k6-scripts/**

# Issue ignore rules
sonar.issue.ignore.multicriteria=e1,e2,e3

# Ignore Math.random() warnings in demo/testing endpoints
# These are performance testing endpoints, not security-critical
sonar.issue.ignore.multicriteria.e1.ruleKey=javascript:S2245
sonar.issue.ignore.multicriteria.e1.resourceKey=**/api/heavy-task*/**

# Ignore duplication in K6 performance testing scripts
# These scripts test similar endpoints and intentionally have similar structure
sonar.issue.ignore.multicriteria.e2.ruleKey=common-js:DuplicatedBlocks
sonar.issue.ignore.multicriteria.e2.resourceKey=k6-scripts/**

# Ignore duplication in test files
# Test structure is inherently similar (setup, execute, assert)
sonar.issue.ignore.multicriteria.e3.ruleKey=common-js:DuplicatedBlocks
sonar.issue.ignore.multicriteria.e3.resourceKey=**/*.test.ts

# Language settings
sonar.javascript.lcov.reportPaths=coverage/lcov.info
sonar.typescript.lcov.reportPaths=coverage/lcov.info

# Coverage exclusions
sonar.coverage.exclusions=**/*.test.ts,**/*.test.tsx,k6-scripts/**,scripts/**

# Encoding
sonar.sourceEncoding=UTF-8
